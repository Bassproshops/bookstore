(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{3307:function(t,e,a){"use strict";a.d(e,{Z:function(){return i}});var r=a(809),n=a.n(r),c=a(2447),s=a(4047),o=a(2700),u=a(696),i=function(){function t(){(0,s.Z)(this,t)}return(0,o.Z)(t,null,[{key:"getProducts",value:function(){var t=(0,c.Z)(n().mark((function t(e,a,r,c){var s,o,i,p,d=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d.length>4&&void 0!==d[4]?d[4]:"",t.prev=1,o=r?"0":"",t.next=5,u.Z.get("products-list/?p=".concat(a,"&stock=").concat(o,"&search=").concat(s));case 5:i=t.sent,p=i.data,e(p),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0.response&&t.t0.response.data&&"P\xe1gina inv\xe1lida."===t.t0.response.data.detail&&1!==a&&c(1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a,r,n){return t.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var t=(0,c.Z)(n().mark((function t(e,a,r,c,s,o){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.delete("product-admin/".concat(a,"/"));case 3:return this.getProducts(e,r,c,s,o),t.abrupt("return",!0);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,r,n,c,s){return t.apply(this,arguments)}}()},{key:"createProduct",value:function(){var t=(0,c.Z)(n().mark((function t(e,a,r,c,s,o,i,p,d,l,v,f,h){var x;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.post("product/",e,{headers:{"Content-Type":"multipart/form-data"}});case 3:return this.getProducts(a,r,c,s,h),o(!1),i(!1),p(!1),d(!1),l(!1),v(!1),f(!1),t.abrupt("return",!0);case 14:t.prev=14,t.t0=t.catch(0),(x=t.t0.response)&&x.data&&(x.data.name&&o(x.data.name),x.data.slug&&i(x.data.slug),x.data.price&&p(x.data.price),x.data.category&&d(x.data.category),x.data.stock&&l(x.data.stock),x.data.description&&v(x.data.description),x.data.image&&f(x.data.image));case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(e,a,r,n,c,s,o,u,i,p,d,l,v){return t.apply(this,arguments)}}()},{key:"retrieveProduct",value:function(){var t=(0,c.Z)(n().mark((function t(e,a){var r,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("product/".concat(e,"/"));case 3:r=t.sent,c=r.data,a(c),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var t=(0,c.Z)(n().mark((function t(e,a,r,c,s,o,i,p,d,l,v,f,h,x){var y;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.patch("product-admin/".concat(h,"/"),e,{headers:{"Content-Type":"multipart/form-data"}});case 3:return this.getProducts(a,r,c,s,x),o(!1),i(!1),p(!1),d(!1),l(!1),v(!1),f(!1),t.abrupt("return",!0);case 14:t.prev=14,t.t0=t.catch(0),(y=t.t0.response)&&y.data&&(y.data.name&&o(y.data.name),y.data.slug&&i(y.data.slug),y.data.price&&p(y.data.price),y.data.category&&d(y.data.category),y.data.stock&&l(y.data.stock),y.data.description&&v(y.data.description),y.data.image&&f(y.data.image));case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(e,a,r,n,c,s,o,u,i,p,d,l,v,f){return t.apply(this,arguments)}}()},{key:"listProducts",value:function(){var t=(0,c.Z)(n().mark((function t(e,a){var r,c,s,o,i,p,d,l,v,f,h,x,y,g=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g.length>2&&void 0!==g[2]&&g[2],c=g.length>3&&void 0!==g[3]&&g[3],s=g.length>4&&void 0!==g[4]&&g[4],o=g.length>5&&void 0!==g[5]?g[5]:"-popularity",i=g.length>6&&void 0!==g[6]&&g[6],p=g.length>7&&void 0!==g[7]&&g[7],t.prev=6,d=s?"&search=".concat(s):"",l=r?"&maxPrice=".concat(r):"",v=c?"&minPrice=".concat(c):"",f=i?"&deal=True":"",h=p?"&category=".concat(p):"",t.next=14,u.Z.get("products/?p=".concat(a).concat(d).concat(l).concat(v).concat(f).concat(h,"&ordering=").concat(o));case 14:x=t.sent,y=x.data,e(y),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(6);case 21:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"increasePopularity",value:function(){var t=(0,c.Z)(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.patch("pop/".concat(e,"/"));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getTotal",value:function(){var t=(0,c.Z)(n().mark((function t(e){var a,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("total/");case 3:a=t.sent,r=a.data,e(r),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getPopular",value:function(){var t=(0,c.Z)(n().mark((function t(e){var a,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("popular-products/");case 3:a=t.sent,r=a.data,e(r),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}]),t}()},125:function(t,e,a){"use strict";a.r(e);var r=a(5893),n=a(7294),c=a(3307),s=a(1770),o=a(9009),u=a(85),i=a(827),p=a(3023),d=a(5358),l=a(9307),v=a(4195);function f(t){var e=t.active,a=t.payload,n=t.label;return e&&a&&n?(0,r.jsxs)("div",{className:"tooltip",children:[(0,r.jsx)("h4",{children:n}),(0,r.jsxs)("p",{children:["$",a[0].value]})]}):null}e.default=function(t){var e=t.user,a=(0,n.useState)([]),h=a[0],x=a[1];(0,n.useEffect)((function(){c.Z.getTotal(x)}),[]);var y=["en.","febr.","mzo.","abr.","my.","jun.","jul.","agt.","sept.","oct.","nov.","dic."],g=[];if(h.total&&h.total.length>0)for(var k=0;k<12;k++){var m=y[k],w=h.total[k];g.push({date:m,value:w})}return g&&e.is_staff?(0,r.jsx)(s.E.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,r.jsx)("div",{className:" separate ",children:(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)(o.h,{width:"100%",height:500,children:(0,r.jsxs)(u.T,{data:g,children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"color",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#2451B7",stopOpacity:.55}),(0,r.jsx)("stop",{offset:"75%",stopColor:"#2451B7",stopOpacity:.15})]})}),(0,r.jsx)(i.u,{dataKey:"value",stroke:"#2451B7",fill:"url(#color)"}),(0,r.jsx)(p.K,{dataKey:"date",axisLine:!1,tickLine:!1}),(0,r.jsx)(d.B,{dataKey:"value",axisLine:!1,tickLine:!1,tickCount:8,tickFormatter:function(t){return"$".concat(t)}}),(0,r.jsx)(l.u,{content:(0,r.jsx)(f,{})}),(0,r.jsx)(v.q,{opacity:.5,vertical:!1})]})})})})}):null}},9689:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/ingresos",function(){return a(125)}])}},function(t){t.O(0,[774,786,888,179],(function(){return e=9689,t(t.s=e);var e}));var e=t.O();_N_E=e}]);